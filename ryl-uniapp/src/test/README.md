# 瑞屹林微信小程序前端适配测试

本目录包含了用于测试前端与后端数据流一致性的测试文件。这些测试主要验证前端发送的数据格式是否与后端期望的格式一致，以及后端返回的数据是否能被前端正确处理。

## 测试文件说明

- **TaskStore.test.js**: 测试任务Store中的方法，包括任务的创建、查询、更新和评价等操作。
- **DeviceData.test.js**: 测试不同任务类型的设备数据格式是否一致。
- **EvaluationData.test.js**: 测试任务评价相关的数据格式和计算是否一致。
- **DataFlowConsistency.test.js**: 测试从任务创建到评价的完整流程数据一致性。
- **index.html**: 简单的测试界面，用于运行TaskStore测试。
- **index-complete.html**: 完整的测试界面，包含所有测试用例。

## 运行测试

由于项目中没有配置专门的测试框架，我们使用简单的HTML页面来运行测试。测试使用模拟的API响应，不会实际与后端交互。

### 使用简单测试界面

1. 在终端中启动开发服务器：
   ```bash
   cd ryl-miniprogram
   npm run dev
   ```

2. 在浏览器中访问测试页面：
   ```
   http://localhost:8080/src/test/index.html
   ```

3. 点击页面上的按钮运行不同的测试用例。

### 使用完整测试界面

1. 在终端中启动开发服务器：
   ```bash
   cd ryl-miniprogram
   npm run dev
   ```

2. 在浏览器中访问完整测试页面：
   ```
   http://localhost:8080/src/test/index-complete.html
   ```

3. 使用页面上的标签页切换不同类型的测试，并点击相应按钮运行测试。

## 测试内容

### 任务流程测试

测试任务创建、查询、更新和评价等操作的数据流一致性。包括：

- 获取任务列表
- 获取任务详情
- 获取任务步骤
- 创建任务
- 上传任务图片
- 提交评价
- 更新任务步骤

### 设备数据测试

测试不同任务类型的设备数据格式是否一致。包括：

- 设备数据一致性测试
- 设备数据验证测试
- 设备数据转换测试

### 评价数据测试

测试任务评价相关的数据格式和计算是否一致。包括：

- 评价数据有效性测试
- 评价字段映射测试
- 评分计算测试

### 综合测试

测试从任务创建到评价的完整流程数据一致性。包括：

- 完整任务流程测试
- 字段映射一致性测试
- 错误处理一致性测试

## 注意事项

1. 这些测试使用了模拟的API响应，不会实际与后端交互。
2. 在实际项目中，建议使用Jest、Vitest或Cypress等测试框架进行更完整的测试。
3. 若要进行实际的集成测试，需要配置实际的后端环境。

## 未来改进

1. 添加专门的测试框架，如Jest或Vitest。
2. 添加端到端测试，使用Cypress或Playwright。
3. 添加更多边缘情况的测试用例。
4. 集成到CI/CD流程中，实现自动化测试。