# 科研仪器维修工程师APP前端

## 项目概述

科研仪器维修工程师APP是一款为科研仪器维修公司内部工程师设计的移动端应用，用于管理维修任务、客户信息、仓库管理等功能。本项目是基于高保真原型进行的前端工程开发。


api:
npm run generate-api

## 技术栈

- Vue 3
- TypeScript
- Vue Router
- Pinia (状态管理)
- Axios (HTTP请求)
- Bootstrap 5 (UI组件库)
- Vite (构建工具)

## 功能模块

1. 用户认证模块
   - 登录
   - 注册
   - 忘记密码
   - 获取用户信息
   - 退出登录

2. 用户信息模块
3. 任务管理模块
4. 维修流程模块
5. 社区交流模块
6. 仓库管理模块
7. 消息通知模块
8. 客户管理模块

## 开发环境设置

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

### 预览生产版本

```bash
npm run preview
```

## API接口

API基础路径: `/api/v1`

### 用户认证接口

- 登录: POST `/auth/login`
- 注册: POST `/auth/register`
- 获取用户信息: GET `/auth/me`
- 忘记密码: POST `/auth/forgot-password`
- 退出登录: POST `/auth/logout`

## 更新日志

### 2024-06-15

- 完善登录功能，按照API文档规范修改接口调用
- 完善忘记密码功能，优化表单验证
- 更新路由守卫，添加token过期检查
- 更新验证工具函数，调整工号和密码验证规则
- 移除"记住我"选项，符合API文档要求
- 优化API请求和响应处理

## 测试账号

- 工号: ENG20150315
- 密码: password123

## 项目结构

```
ryl-engineer-app/
├── public/              # 静态资源
├── src/                 # 源代码
│   ├── assets/          # 资源文件
│   ├── components/      # 公共组件
│   ├── router/          # 路由配置
│   ├── store/           # 状态管理
│   ├── views/           # 页面视图
│   │   ├── auth/        # 认证相关页面
│   │   └── ...          # 其他页面
│   ├── App.vue          # 根组件
│   └── main.js          # 入口文件
└── README.md            # 项目说明
```

## 已实现功能

### 核心功能

1. **认证系统**
   - 登录页面
   - 注册页面
   - 忘记密码页面
   - 路由守卫（需要认证的路由）

2. **任务管理**
   - 任务列表（首页）
   - 任务详情页面
   - 任务流程详情页面
   - 任务创建页面
   - 任务过滤功能

3. **维修流程**
   - 检修结果表单
   - 成本报价表单
   - 维修方法记录
   - 位置打卡功能

4. **仓库管理**
   - 配件库存查看
   - 配件搜索和过滤
   - 申请使用/采购功能

5. **个人中心**
   - 个人资料页面
   - 车辆记录页面

### 公共组件

1. **底部导航栏**
   - 首页
   - 仓库
   - 工程师
   - 消息
   - 我的

## 开发日志

### 2024-03-xx

1. 创建项目基础结构
2. 实现认证相关页面和路由守卫
3. 实现底部导航组件

### 2024-03-xx

1. 实现任务列表页面（首页）
2. 实现任务详情页面
3. 实现仓库管理页面

### 2024-03-xx

1. 实现检修结果表单页面
2. 实现成本报价表单页面
3. 实现维修方法记录页面
4. 实现位置打卡页面

### 2024-03-xx

1. 实现消息列表页面
2. 实现消息详情页面
3. 实现消息通知组件
4. 实现消息设置页面

### 2024-03-xx

1. 实现客户信息页面
2. 实现工程师详情页面
3. 实现社交动态页面（工程师状态一览）

### 2024-03-xx

1. 实现任务流程详情页面
2. 实现任务创建页面

### 2024-06-20

1. 更新底部导航栏组件（BottomNavigation.vue）
   - 添加工程师状态一览入口
   - 调整导航项顺序为：首页、仓库、工程师、消息、我的
   - 添加工程师图标

2. 修复底部导航栏遮挡问题
   - 为TaskDetail、TaskFlowDetail、SocialFeed、CustomerInfo、EngineerDetail页面的底部操作栏添加额外padding
   - 增加Home页面的底部padding，确保内容不被导航栏遮挡
   - 优化了页面底部布局，提升用户体验

3. 优化个人信息页面（ProfileInfo.vue）
   - 增加底部padding，避免被导航栏遮挡
   - 添加更多个人信息字段：工号、入职日期、职称、专业方向、技能等级等
   - 添加专业信息和其他信息分类
   - 实现专业方向标签选择功能
   - 实现技能等级星级评定功能

4. 优化车辆使用记录页面（ProfileVehicle.vue）
   - 增加底部padding，避免被导航栏遮挡
   - 添加新建打卡记录按钮
   - 实现跳转到位置打卡页面功能

## 待实现功能

1. 数据持久化
2. 与后端API集成

## 运行项目

```bash
# 安装依赖
npm install

# 开发模式运行
npm run dev

# 构建生产版本
npm run build
```

## 项目介绍
本项目是一个面向维修工程师的移动应用前端，旨在提供一个高效、便捷的工作平台，帮助维修工程师管理和执行各类维修、校准、回收、租赁和培训等多种仪器服务任务。

## 功能模块
- 用户认证（登录、注册、忘记密码）
- 任务管理
- 工程师状态
- 客户管理
- 知识库
- 个人中心

## 项目启动
```bash
# 安装依赖
npm install

# 开发环境启动
npm run dev

# 构建生产环境
npm run build
```

## 目录结构
```
/
├── src/                    # 源代码目录
│   ├── api/                # API接口
│   ├── assets/             # 静态资源
│   ├── components/         # 公共组件
│   ├── layouts/            # 布局组件
│   ├── router/             # 路由配置
│   ├── stores/             # 状态管理
│   ├── utils/              # 工具函数
│   ├── views/              # 页面组件
│   ├── App.vue             # 根组件
│   ├── main.js             # 入口文件
│   └── style.css           # 全局样式
├── public/                 # 公共资源
├── index.html              # HTML模板
├── vite.config.js          # Vite配置
└── package.json            # 项目配置
```

## 更新日志

### 2024年6月20日
1. 优化了底部导航栏
   - 添加了"工程师状态概览"入口
   - 重新排序了导航项
   - 修复了底部导航栏遮挡各页面按钮的问题
   
2. 优化了个人信息页面 (ProfileInfo.vue)
   - 增加了底部padding，避免内容被导航栏遮挡
   - 新增了员工ID、入职日期、职称等个人信息字段
   - 创建了三个信息板块：基本信息、专业信息、其他信息
   - 实现了专业标签多选功能
   - 添加了技能等级评分功能
   - 增加了紧急联系人信息

3. 优化了车辆使用记录页面 (ProfileVehicle.vue)
   - 增加了底部padding，避免内容被导航栏遮挡
   - 添加了新建打卡记录按钮
   - 实现了点击按钮跳转到打卡页面的功能
   - 优化了底部操作栏样式，使用蓝色按钮提高辨识度

4. 更新了路由配置
   - 将个人信息页面路由更改为 `/profile/info`
   - 将车辆使用记录页面路由更改为 `/profile/vehicle`
   - 保留了旧路径的重定向，确保向后兼容
   - 更新了个人中心页面的导航链接

### 2024年6月21日
1. 简化了个人信息页面 (ProfileInfo.vue)
   - 根据原型图要求，仅保留姓名、手机号码和所属部门三个字段
   - 删除了多余的信息板块和字段，使界面更加简洁
   - 保持了头像编辑功能

2. 优化了任务详情与客户信息的关联
   - 在任务详情页面(TaskDetail.vue)中的客户名称添加了链接，点击可跳转到客户详情页面
   - 更新了客户详情页面(CustomerInfo.vue)，使其能够通过路由参数获取客户ID
   - 添加了客户数据加载逻辑，为后续API集成做准备

---

**【重要】环境变量配置说明**

请在 `ryl-engineer-app` 根目录下手动创建以下两个文件：

1.  **文件一：`.env.development`**
    *   **用途**: 用于 `npm run dev` 本地开发环境。
    *   **内容**:
        ```
        # Vite开发环境基础URL，使用代理
        VITE_API_BASE_URL=/api
        ```

2.  **文件二：`.env.production`**
    *   **用途**: 用于 `npm run build` 生产打包。请将 `your_lan_ip:8089` 替换为后端服务的实际公网IP或局域网IP。
    *   **内容**:
        ```
        # Vite生产环境基础URL
        VITE_API_BASE_URL=http://your_lan_ip:8089
        ```

创建完以上文件后，AI将继续完成后续的配置步骤。
